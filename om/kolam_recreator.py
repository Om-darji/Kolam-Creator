import turtle

# --- PASTE THE GENERATED DATA HERE ---
# Run the kolam_recognizer.py script first, then copy and paste the
# output data into this section.

kolam_data = {
    "width": 192,
    "height": 202,
    "dots": [
        (94.84603881835938, 174.75904846191406),
        (169.46743774414062, 101.27751922607422),
        (19.29148292541504, 101.44493103027344),
        (121.50856018066406, 101.63013458251953),
        (94.49361419677734, 28.332624435424805),
    ],
    "paths": [
        [(95, 165), (89, 171), (95, 165), (101, 171), (101, 172), (102, 173), (102, 177), (101, 178), (101, 179), (98, 182), (91, 182), (88, 179), (88, 178), (88, 179), (91, 182), (98, 182), (101, 179), (101, 178), (102, 177), (102, 173), (101, 172), (101, 171), (102, 170), (103, 171), (102, 170), (101, 171)],
        [(72, 143), (72, 144), (76, 148), (76, 154), (72, 158), (67, 158), (66, 157), (65, 157), (63, 155), (65, 157), (66, 157), (67, 158), (72, 158), (73, 159), (72, 160), (67, 160), (72, 160), (73, 159), (72, 158), (76, 154), (76, 148), (73, 145), (73, 144)],
        [(94, 142), (88, 148), (94, 142), (95, 142), (101, 148), (101, 149), (102, 150), (102, 153), (101, 154), (101, 155), (95, 161), (94, 161), (89, 156), (94, 161), (95, 161), (101, 155), (101, 154), (102, 153), (102, 150), (101, 149), (101, 148), (95, 142)],
        [(120, 141), (117, 144), (120, 141), (126, 147), (126, 148), (127, 149), (127, 153), (126, 154), (126, 155), (124, 157), (123, 157), (122, 158), (117, 158), (115, 156), (114, 156), (115, 156), (117, 158), (122, 158), (123, 157), (124, 157), (126, 155), (126, 154), (127, 153), (127, 149), (126, 148), (126, 147)],
        [(107, 129), (96, 140), (102, 146), (96, 140), (107, 129), (108, 129), (118, 139), (118, 140), (115, 143), (118, 140), (118, 139), (108, 129)],
        [(81, 129), (71, 139), (71, 140), (72, 141), (71, 140), (71, 139), (81, 129), (82, 129), (93, 140), (86, 147), (86, 148), (86, 147), (93, 140), (82, 129)],
        [(133, 128), (122, 139), (122, 140), (127, 145), (122, 140), (122, 139), (133, 128), (134, 128), (140, 134), (134, 128)],
        [(77, 124), (79, 126), (79, 128), (70, 137), (68, 137), (67, 136), (68, 137), (68, 138), (67, 139), (67, 140), (61, 146), (61, 147), (60, 148), (60, 154), (61, 155), (61, 156), (63, 158), (61, 156), (61, 155), (60, 154), (60, 148), (61, 147), (61, 146), (67, 140), (67, 139), (69, 137), (70, 137), (79, 128), (79, 126)],
        [(117, 119), (109, 127), (119, 137), (121, 137), (131, 127), (131, 125), (130, 124), (131, 125), (131, 127), (121, 137), (119, 137), (109, 127)],
        [(143, 117), (142, 118), (141, 118), (140, 119), (141, 118), (142, 118), (143, 117), (147, 117), (148, 118), (149, 118), (150, 119), (149, 120), (148, 120), (149, 120), (151, 122), (151, 123), (152, 124), (152, 129), (148, 133), (142, 133), (135, 126), (137, 124), (135, 126), (142, 133), (148, 133), (152, 129), (152, 124), (151, 123), (151, 122), (149, 120), (150, 119), (151, 119), (152, 120), (151, 119), (150, 119), (149, 118), (148, 118), (147, 117)],
        [(40, 117), (38, 119), (37, 119), (36, 120), (36, 121), (35, 122), (35, 123), (34, 124), (34, 129), (35, 130), (35, 131), (38, 134), (35, 131), (35, 130), (34, 129), (34, 124), (35, 123), (36, 124), (36, 128), (36, 124), (37, 123), (37, 122), (39, 120), (38, 119), (40, 117), (47, 117), (48, 118), (47, 119), (45, 119), (47, 119), (51, 123), (47, 119), (48, 118), (49, 118), (53, 122), (49, 118), (48, 118), (47, 117)],
        [(112, 97), (111, 98), (111, 105), (112, 106), (112, 107), (119, 114), (108, 125), (107, 125), (100, 118), (99, 118), (98, 117), (91, 117), (90, 118), (89, 118), (82, 125), (81, 125), (78, 122), (81, 125), (82, 125), (89, 118), (90, 118), (91, 117), (98, 117), (99, 118), (98, 119), (92, 119), (98, 119), (106, 127), (95, 138), (94, 138), (83, 127), (90, 120), (83, 127), (94, 138), (95, 138), (106, 127), (98, 119), (99, 118), (100, 118), (107, 125), (108, 125), (116, 117), (117, 117), (118, 116), (118, 115), (119, 114), (112, 107), (112, 106), (111, 105), (111, 98)],
        [(142, 95), (136, 101), (136, 102), (141, 107), (142, 107), (143, 108), (147, 108), (148, 107), (149, 107), (150, 106), (151, 106), (152, 107), (151, 108), (152, 107), (151, 106), (155, 102), (155, 101), (150, 96), (155, 101), (155, 102), (151, 106), (150, 106), (149, 107), (148, 107), (147, 108), (143, 108), (142, 107), (141, 107), (136, 102), (136, 101), (142, 95), (143, 95)],
        [(46, 95), (47, 95), (53, 101), (53, 102), (54, 103), (55, 103), (66, 114), (56, 124), (55, 124), (56, 124), (60, 120), (61, 120), (61, 119), (65, 115), (67, 115), (68, 116), (63, 121), (68, 116), (69, 116), (70, 117), (70, 118), (73, 121), (70, 118), (70, 117), (69, 116), (70, 115), (70, 114), (71, 113), (70, 114), (70, 115), (69, 116), (68, 116), (55, 103), (54, 103), (53, 102), (53, 101), (47, 95)],
        [(174, 93), (175, 94), (174, 95), (176, 97), (176, 98), (177, 99), (177, 104), (173, 108), (167, 108), (164, 105), (163, 105), (160, 102), (160, 101), (165, 96), (160, 101), (160, 102), (163, 105), (164, 105), (167, 108), (173, 108), (177, 104), (177, 99), (176, 98), (176, 97), (174, 95), (175, 94), (176, 94), (177, 95), (176, 94), (175, 94)],
        [(92, 92), (91, 93), (90, 93), (86, 97), (86, 98), (85, 99), (85, 102), (86, 103), (86, 105), (88, 107), (86, 105), (86, 103), (85, 102), (85, 99), (86, 98), (86, 97), (90, 93), (91, 93), (92, 92), (97, 92), (98, 93), (97, 94), (93, 94), (97, 94), (98, 95), (99, 95), (98, 95), (97, 94), (98, 93), (99, 93), (98, 93), (97, 92)],
        [(121, 91), (118, 94), (121, 91), (122, 91), (132, 101), (132, 102), (124, 110), (132, 102), (132, 101), (122, 91)],
        [(67, 91), (57, 101), (57, 102), (67, 112), (69, 112), (70, 111), (69, 112), (67, 112), (57, 102), (57, 101), (67, 91), (68, 91), (76, 99), (76, 104), (75, 105), (75, 106), (72, 109), (75, 106), (76, 107), (77, 106), (76, 107), (75, 106), (75, 105), (76, 104), (76, 99), (77, 98), (78, 99), (78, 104), (78, 99), (77, 98), (76, 99), (68, 91)],
        [(133, 79), (123, 89), (133, 99), (135, 99), (141, 93), (144, 93), (145, 92), (146, 92), (147, 93), (149, 93), (150, 94), (151, 94), (156, 99), (159, 99), (164, 94), (159, 99), (156, 99), (151, 94), (150, 94), (149, 93), (147, 93), (146, 92), (145, 92), (144, 93), (141, 93), (135, 99), (133, 99), (123, 89), (133, 79), (134, 79), (139, 84), (134, 79)],
        [(55, 79), (54, 80), (55, 79), (56, 79), (66, 89), (56, 99), (54, 99), (48, 93), (45, 93), (44, 92), (42, 92), (41, 93), (39, 93), (35, 97), (34, 97), (32, 99), (30, 99), (25, 94), (24, 94), (23, 93), (22, 93), (21, 92), (16, 92), (15, 93), (14, 93), (10, 97), (10, 98), (10, 97), (14, 93), (15, 93), (16, 92), (21, 92), (22, 93), (23, 93), (24, 94), (25, 94), (30, 99), (32, 99), (34, 97), (35, 97), (36, 98), (33, 101), (39, 107), (38, 108), (39, 109), (38, 108), (39, 107), (40, 107), (41, 108), (45, 108), (41, 108), (40, 107), (39, 107), (33, 101), (36, 98), (35, 97), (39, 93), (41, 93), (42, 92), (44, 92), (45, 93), (48, 93), (54, 99), (56, 99), (66, 89), (56, 79)],
        [(120, 65), (117, 68), (120, 65), (131, 76), (131, 78), (122, 87), (121, 87), (114, 80), (116, 82), (116, 83), (117, 83), (121, 87), (122, 87), (131, 78), (131, 76)],
        [(94, 65), (84, 75), (84, 76), (90, 82), (91, 82), (92, 83), (97, 83), (98, 82), (99, 82), (105, 76), (105, 75), (95, 65)],
        [(69, 65), (57, 77), (67, 87), (68, 87), (70, 85), (71, 85), (71, 84), (75, 80), (68, 87), (67, 87), (57, 77), (69, 65), (71, 67)],
        [(127, 58), (122, 63), (122, 64), (133, 75), (134, 75), (139, 70), (140, 70), (141, 71), (135, 77), (142, 84), (141, 85), (142, 86), (144, 86), (142, 86), (141, 85), (142, 84), (148, 84), (152, 80), (152, 74), (149, 71), (152, 74), (152, 80), (148, 84), (142, 84), (135, 77), (141, 71), (140, 70), (142, 68), (148, 68), (149, 69), (150, 69), (153, 72), (150, 69), (149, 69), (148, 68), (142, 68), (140, 70), (139, 70), (134, 75), (133, 75), (122, 64), (122, 63)],
        [(86, 55), (86, 56), (93, 63), (82, 74), (75, 67), (78, 70), (78, 71), (79, 71), (82, 74), (93, 63), (86, 56)],
        [(117, 43), (116, 44), (115, 44), (111, 48), (111, 55), (112, 56), (112, 57), (118, 63), (118, 64), (114, 68), (113, 68), (108, 73), (106, 73), (96, 63), (97, 62), (96, 63), (106, 73), (108, 73), (113, 68), (114, 68), (115, 69), (113, 71), (115, 69), (114, 68), (118, 64), (118, 63), (112, 57), (112, 56), (113, 55), (119, 61), (121, 61), (126, 56), (126, 55), (127, 54), (127, 50), (126, 49), (126, 48), (124, 46), (126, 48), (126, 49), (127, 50), (127, 54), (126, 55), (126, 56), (121, 61), (119, 61), (113, 55), (113, 49), (117, 45), (122, 45), (117, 45), (116, 44), (117, 43), (123, 43), (124, 44), (125, 44), (127, 46), (125, 44), (124, 44), (123, 43)],
        [(66, 43), (65, 44), (64, 44), (61, 47), (61, 48), (60, 49), (60, 55), (61, 56), (61, 57), (67, 63), (67, 64), (56, 75), (55, 75), (49, 69), (48, 69), (47, 68), (40, 68), (39, 69), (38, 69), (35, 72), (35, 73), (34, 74), (34, 79), (35, 80), (35, 81), (36, 82), (35, 81), (35, 80), (34, 79), (34, 74), (35, 73), (35, 72), (38, 69), (39, 69), (40, 68), (47, 68), (48, 69), (49, 69), (55, 75), (56, 75), (67, 64), (67, 63), (61, 57), (61, 56), (60, 55), (60, 49), (61, 48), (61, 47), (64, 44), (65, 44), (66, 45), (63, 48), (66, 45), (72, 45), (76, 49), (76, 55), (70, 61), (68, 61), (63, 56), (68, 61), (70, 61), (76, 55), (76, 49), (72, 45), (73, 44), (74, 44), (77, 47), (74, 44), (73, 44), (72, 43)],
        [(94, 42), (89, 47), (94, 42), (95, 42), (101, 48), (101, 49), (102, 50), (102, 54), (100, 56), (100, 57), (99, 58), (100, 57), (100, 56), (102, 54), (102, 50), (101, 49), (101, 48), (95, 42)],
        [(98, 21), (102, 25), (102, 30), (101, 31), (101, 32), (95, 38), (94, 38), (88, 32), (94, 38), (95, 38), (101, 32), (102, 33), (103, 32), (102, 33), (101, 32), (101, 31), (102, 30), (102, 25)],
        [(92, 18), (91, 19), (90, 19), (85, 24), (85, 31), (86, 32), (86, 33), (92, 39), (92, 41), (87, 46), (87, 47), (86, 48), (86, 49), (85, 50), (85, 53), (85, 50), (86, 49), (86, 48), (87, 47), (87, 46), (92, 41), (92, 39), (86, 33), (86, 32), (85, 31), (85, 24), (90, 19), (91, 19), (92, 18), (96, 18)],
    ]
}
# -----------------------------------------


def setup_screen(width, height, color, title):
    """Sets up the Turtle graphics window."""
    screen = turtle.Screen()
    # Add a small buffer to the screen size
    screen.setup(width + 50, height + 50)
    screen.bgcolor(color)
    screen.title(title)
    # Set coordinate system to match image pixels (origin in top-left)
    screen.setworldcoordinates(0, height, width, 0)
    screen.tracer(0)
    return screen

def setup_turtle(color, size):
    """Creates and configures a turtle object for drawing."""
    t = turtle.Turtle()
    t.speed(0)
    t.pencolor(color)
    t.pensize(size)
    t.hideturtle()
    return t

def recreate_kolam(t, data):
    """Draws the kolam using the raw data extracted from the image."""
    print("Recreating kolam from raw data...")

    # Draw the paths
    t.pencolor("black")
    t.pensize(3)
    for path in data["paths"]:
        t.penup()
        t.goto(path[0]) # Go to the start of the path
        t.pendown()
        for point in path[1:]:
            t.goto(point)

    # Draw the dots on top of the lines
    t.pencolor("red")
    for (x, y) in data["dots"]:
        t.penup()
        t.goto(x, y)
        t.dot(10) # Draw a 10-pixel diameter red dot

    print("Recreation complete.")


if __name__ == "__main__":
    # 1. Setup the environment using dimensions from the image data
    screen = setup_screen(kolam_data["width"], kolam_data["height"], "ivory", "Kolam Recreator")
    pen = setup_turtle("black", 3)

    # 2. Recreate the kolam design
    recreate_kolam(pen, kolam_data)
    
    # 3. Update the screen and keep the window open
    screen.update()
    print("Close the window to exit.")
    screen.mainloop()
